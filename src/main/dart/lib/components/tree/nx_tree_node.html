<polymer-element name="nx-tree-node">
  <template>
    <link rel="stylesheet"  href="../../semantic/elements/image.min.css" no-shim>
    <link rel="stylesheet"  href="../../semantic/elements/label.min.css" no-shim>
    
    <link rel="stylesheet"  href="../../semantic/modules/accordion.min.css" no-shim>
    <style>
      .ui.tree.accordion {
      background-color: transparent;
      -webkit-box-shadow: none;
      box-shadow: none;
      max-width: none;
      }

      .ui.tree.accordion .title,
      .ui.tree.accordion .accordion .title {
      background-color: transparent;
      border-top: none;
      padding-left: 0em;
      padding-right: 0em;
      }

      .ui.tree.accordion .content,
      .ui.tree.accordion .accordion .content {
      padding: 0em 2em;
      }

      .ui.tree.accordion .active.title,
      .ui.tree.accordion .accordion .active.title {
      background-color: transparent;
      }

      .ui.tree.accordion .selected:after {
      content: "\2713";
      }
    </style>
    <template if="{{isFolderish}}">  
      <div class="ui tree accordion">                        
        <div class="title" on-click="{{toggle}}">
          <img class="ui left floated tiny image" src="{{icon}}">
          <span class="label" on-click="{{toggleSelection}}">{{doc.title}}</span>
        </div>
        
        <div class="content">
          <template repeat="{{child in children}}">
              <nx-tree-node connectionId="{{connectionId}}" docId="{{child.uid}}"></nx-tree-node>
          </template>
        </div>
      </div>
    </template>
    
    <template if="{{!isFolderish}}">
      <img class="ui left floated tiny image" src="{{icon}}">
      <span class="label" on-click="{{toggleSelection}}">{{doc.title}}</span>
    </template>
  </template>
  <script type="application/dart;component=1" src="tree_node.dart"></script>
</polymer-element>
