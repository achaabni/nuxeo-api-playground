<link rel="import" href="tree/nx_tree.html">
<link rel="import" href="ui_sidebar.html">
<polymer-element name="nx-repository-browser">
  <template>
    <link rel="stylesheet"  href="../css/semantic.css" no-shim>
    <link rel="stylesheet"  href="../css/style.css" no-shim>

    <ui-sidebar>
      <div class="ui fluid vertical menu">
          <!-- Navigation -->
          <a class="ui red inverted header item">
            <i class="circle left icon" on-click="{{goHome}}"></i>
            {{title}}
          </a>
          <div class="item">
            <!-- Endpoints -->
            <nx-tree root="/default-domain" connectionId="{{connectionId}}" selected="{{documentId}}"></nx-tree>
          </div>
      </div>
    </ui-sidebar>

    <div class="ui page grid">
      <div class="column">
      
        <!--  Breadcrum -->
        <div class="ui segment">
          <div class="ui breadcrumb">
            <a class="section" on-click="{{goHome}}"><i class="ui home icon"></i></a>
            <div class="divider"> / </div>
             <a class="active section" on-click="{{goRoot}}">{{title}}</a>
          </div>
       </div>
        
        <template if="{{document == null}}">
          <div class="ui raised segment">
            <h3 class="ui blue header">{{title}}</h3>
            <div class="ui grid">
              <div class="four wide column"><img class="ui medium image" src="{{icon}}"></div>
              <div class="twelve wide column">
                <p class="description">{{description}}</p>
              </div>
            </div>
          </div>
        </template>  
        
        <template if="{{document}}">
          <div class="ui vertical segment">
            <div class="ui huge header">{{document.type}}</div>
            <p>Description of the document type. Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Donec odio. Quisque volutpat mattis eros. Nullam malesuada erat ut turpis. Suspendisse urna nibh, viverra non, semper suscipit, posuere a, pede.</p>
            <div class="ui medium header">Properties</div>
            <table class="ui large basic blue table">
              <thead>
                <tr><th>Name</th>
                <th>Value</th>
              </tr></thead>
              <tbody>
                <tr template repeat="{{key in document.properties.keys}}">
                  <td><strong>{{key}}</strong></td>
                  <td>{{document.properties[key]}}</td>
                </tr>
              </tbody>
            </table>
  
         </div>
        </template>
        
      </div>
    </div>
    
  </template>
  <script type="application/dart;component=1" src="nx_repository_browser.dart"></script>

</polymer-element>
